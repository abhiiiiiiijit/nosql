<html>
  <head>
    <title>Apache Spark Concepts Cheat Sheet</title>
  </head>
  <body>
    <svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
      <!-- Define arrow marker -->
      <defs>
        <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto">
          <path d="M0,0 L0,6 L9,3 z" fill="#000" />
        </marker>
      </defs>
      
      <!-- RDD Box -->
      <rect x="50" y="60" width="300" height="150" fill="#e0f7fa" stroke="#00796b" stroke-width="2"/>
      <text x="200" y="85" text-anchor="middle" font-size="16" font-weight="bold">RDDs</text>
      <text x="60" y="110" font-size="12">
        <tspan>• Primary data abstraction</tspan>
      </text>
      <text x="60" y="125" font-size="12">
        <tspan>• Partitioned across nodes</tspan>
      </text>
      <text x="60" y="140" font-size="12">
        <tspan>• Transformations (lazy evaluation)</tspan>
      </text>
      <text x="80" y="155" font-size="12">
        <tspan>– map, filter, flatMap, distinct</tspan>
      </text>
      <text x="60" y="170" font-size="12">
        <tspan>• Actions: reduce, collect, take</tspan>
      </text>
      <text x="60" y="185" font-size="12">
        <tspan>• Uses DAG Scheduler for fault tolerance</tspan>
      </text>
      
      <!-- Datasets & DataFrames Box -->
      <rect x="400" y="60" width="300" height="150" fill="#fff3e0" stroke="#e65100" stroke-width="2"/>
      <text x="550" y="85" text-anchor="middle" font-size="16" font-weight="bold">
        Datasets &amp; DataFrames
      </text>
      <text x="410" y="110" font-size="12">
        <tspan>Datasets:</tspan>
      </text>
      <text x="430" y="125" font-size="12">
        <tspan>• Strongly typed, immutable</tspan>
      </text>
      <text x="430" y="140" font-size="12">
        <tspan>• Scala &amp; Java APIs</tspan>
      </text>
      <text x="410" y="155" font-size="12">
        <tspan>DataFrames:</tspan>
      </text>
      <text x="430" y="170" font-size="12">
        <tspan>• Tabular view of data</tspan>
      </text>
      <text x="430" y="185" font-size="12">
        <tspan>• Multi-language support</tspan>
      </text>
      
      <!-- Spark SQL Optimization Box -->
      <rect x="50" y="240" width="300" height="180" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2"/>
      <text x="200" y="265" text-anchor="middle" font-size="16" font-weight="bold">
        Spark SQL Optimization
      </text>
      <text x="60" y="290" font-size="12">
        <tspan>Catalyst Optimizer:</tspan>
      </text>
      <text x="80" y="305" font-size="12">
        <tspan>• Analysis</tspan>
      </text>
      <text x="80" y="320" font-size="12">
        <tspan>• Logical Optimization</tspan>
      </text>
      <text x="80" y="335" font-size="12">
        <tspan>• Physical Planning</tspan>
      </text>
      <text x="80" y="350" font-size="12">
        <tspan>• Code Generation</tspan>
      </text>
      <text x="60" y="365" font-size="12">
        <tspan>Tungsten:</tspan>
      </text>
      <text x="80" y="380" font-size="12">
        <tspan>• CPU &amp; Memory optimization</tspan>
      </text>
      <text x="80" y="395" font-size="12">
        <tspan>• Cache-friendly, low-level code</tspan>
      </text>
      
      <!-- Data Processing Pipeline Box -->
      <rect x="400" y="240" width="300" height="180" fill="#f3e5f5" stroke="#6a1b9a" stroke-width="2"/>
      <text x="550" y="265" text-anchor="middle" font-size="16" font-weight="bold">
        Data Processing Pipeline
      </text>
      <text x="410" y="290" font-size="12">
        <tspan>• Read: Load data into DataFrames</tspan>
      </text>
      <text x="410" y="305" font-size="12">
        <tspan>• Analyze: Schema, preview data</tspan>
      </text>
      <text x="410" y="320" font-size="12">
        <tspan>• Transform: Filter, join, aggregate</tspan>
      </text>
      <text x="410" y="335" font-size="12">
        <tspan>• Load &amp; Write: ETL / ELT</tspan>
      </text>
      
      <!-- Apache Spark SQL Box -->
      <rect x="225" y="440" width="300" height="140" fill="#ffebee" stroke="#c62828" stroke-width="2"/>
      <text x="375" y="465" text-anchor="middle" font-size="16" font-weight="bold">
        Apache Spark SQL
      </text>
      <text x="235" y="490" font-size="12">
        <tspan>• Run SQL queries on DataFrames</tspan>
      </text>
      <text x="235" y="505" font-size="12">
        <tspan>• Create temporary &amp; global views</tspan>
      </text>
      <text x="235" y="520" font-size="12">
        <tspan>• Aggregation via SQL or functions</tspan>
      </text>
      <text x="235" y="535" font-size="12">
        <tspan>• Supports Parquet, JSON, Hive</tspan>
      </text>
      
      <!-- Arrows -->
      <!-- Arrow from RDDs to Datasets & DataFrames -->
      <line x1="350" y1="135" x2="400" y2="135" stroke="#000" marker-end="url(#arrow)"/>
      
      <!-- Arrow from RDDs to Spark SQL Optimization -->
      <line x1="200" y1="210" x2="200" y2="240" stroke="#000" marker-end="url(#arrow)"/>
      
      <!-- Arrow from Datasets & DataFrames to Data Processing Pipeline -->
      <line x1="550" y1="210" x2="550" y2="240" stroke="#000" marker-end="url(#arrow)"/>
      
      <!-- Arrow from Spark SQL Optimization to Apache Spark SQL -->
      <path d="M200,420 L220,420 L220,440 L225,440" stroke="#000" fill="none" marker-end="url(#arrow)"/>
      
      <!-- Arrow from Data Processing Pipeline to Apache Spark SQL -->
      <path d="M550,420 L530,420 L530,440 L525,440" stroke="#000" fill="none" marker-end="url(#arrow)"/>
    </svg>
  </body>
</html>
